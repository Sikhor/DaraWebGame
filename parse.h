bool ParseAndValidateAIReply(
    const std::string& aiReply,
    json& outJson,
    std::string& outError);